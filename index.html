<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸŒ World News | Ø§Ø®Ø¨Ø§Ø± Ø²Ù†Ø¯Ù‡</title>
<link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;700&display=swap" rel="stylesheet">
<style>
/* Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡ Ú¯Ø±Ø§Ø¯ÛŒÙ†Øª Ù…ØªØ­Ø±Ú© */
@keyframes gradientBG {
  0% {background-position:0% 50%;}
  50% {background-position:100% 50%;}
  100% {background-position:0% 50%;}
}
body {
  font-family:'Vazirmatn',sans-serif;
  margin:0;
  padding:0;
  direction:rtl;
  background: linear-gradient(270deg,#f1f1f1,#dfe9f3,#e0c3fc,#f1f1f1);
  background-size:800% 800%;
  animation: gradientBG 30s ease infinite;
  transition: background 2s;
}

/* Ù‡Ø¯Ø± Ø¨Ø§ Ø§ÙÚ©Øª */
header {
  background:linear-gradient(90deg,#1a1a2e,#0f3460);
  color:#fff;
  padding:20px;
  text-align:center;
  font-size:32px;
  font-weight:bold;
  position:sticky;
  top:0;
  z-index:100;
  box-shadow:0 4px 20px rgba(0,0,0,0.35);
  transition: background 1s;
}

/* Ø¯Ú©Ù…Ù‡ ØªØºÛŒÛŒØ± Ø²Ø¨Ø§Ù† */
.language-switch {
  position:absolute;
  top:20px;
  left:20px;
  background:#e94560;
  color:#fff;
  border:none;
  padding:10px 14px;
  border-radius:8px;
  cursor:pointer;
  font-weight:bold;
  z-index:200;
  transition:background 0.5s;
}
.language-switch:hover { background:#ff6584; }

/* Ø¬Ø³ØªØ¬Ùˆ */
#search {
  display:block;
  width:85%;
  max-width:440px;
  margin:15px auto;
  padding:12px;
  border-radius:8px;
  border:1px solid #ccc;
  font-size:16px;
  transition:box-shadow 0.3s, border-color 0.3s;
}
#search:focus { border-color:#0f3460; box-shadow:0 0 12px #0f3460; outline:none; }

/* Ú©Ø§Ù†ØªÛŒÙ†Ø± Ø§Ø®Ø¨Ø§Ø± */
.news-container { max-width:1024px; margin:auto; padding:20px; }

/* Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ø®Ø¨Ø± Ø¨Ø§ Ø§Ù†ÛŒÙ…ÛŒØ´Ù† */
.news-item {
  background:#fff;
  margin-bottom:22px;
  padding:18px;
  border-radius:14px;
  box-shadow:0 6px 20px rgba(0,0,0,0.15);
  transition:all 0.5s;
  overflow:hidden;
  opacity:0;
  transform:translateY(40px);
  animation:fadeUp 0.8s forwards;
}
@keyframes fadeUp { to { opacity:1; transform:translateY(0); } }
.news-item:hover { transform:translateY(-6px) scale(1.03); box-shadow:0 18px 30px rgba(0,0,0,0.25); }

.news-item img {
  width:100%;
  max-height:320px;
  object-fit:cover;
  border-radius:12px;
  margin-bottom:14px;
  transition: transform 0.7s;
}
.news-item img:hover { transform:scale(1.05) rotate(0.5deg); }

.news-item h3 {
  margin:12px 0;
  font-size:22px;
  color:#1a1a2e;
  transition: color 0.3s;
}
.news-item h3:hover { color:#e94560; }

.news-item p { font-size:16px; color:#333; line-height:1.6; }
.news-item a {
  display:inline-block;
  margin-top:12px;
  color:#0f3460;
  font-weight:bold;
  text-decoration:none;
  transition:color 0.3s;
}
.news-item a:hover { color:#e94560; }

/* Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø§Ø´ØªØ±Ø§Ú© Ú¯Ø°Ø§Ø±ÛŒ */
.share-buttons { margin-top:12px; }
.share-buttons a {
  margin-right:8px;
  text-decoration:none;
  color:#fff;
  background:#0f3460;
  padding:6px 10px;
  border-radius:6px;
  font-size:14px;
  transition: background 0.3s;
}
.share-buttons a:hover { background:#e94560; }

/* Ø§Ø³Ù„Ø§ÛŒØ¯Ø± */
.slider { position:relative; overflow:hidden; border-radius:14px; margin-bottom:28px; height:400px; }
.slide { min-width:100%; box-sizing:border-box; position:absolute; opacity:0; transform:translateX(100%); transition:opacity 1s, transform 1s; }
.slide.active { opacity:1; transform:translateX(0); }
.slide img { width:100%; height:100%; object-fit:cover; border-radius:14px; filter:brightness(0.75); transition: transform 1s; }
.slide img:hover { transform:scale(1.05); }
.slide h2 {
  position:absolute; bottom:25px;
  right:25px;
  background:rgba(0,0,0,0.65);
  color:#fff;
  padding:14px;
  border-radius:10px;
  font-size:26px;
  transition: background 0.3s;
}

/* ÙÙˆØªØ± */
.footer {
  background:#1a1a2e;
  color:#fff;
  padding:25px;
  text-align:center;
  margin-top:40px;
}
.footer a { color:#e94560; margin:0 8px; text-decoration:none; font-weight:bold; }
.footer a:hover { text-decoration:underline; }

@media(max-width:768px){
  .news-item h3{ font-size:18px; }
  .news-item p{ font-size:14px; }
  .slide h2{ font-size:18px; }
}
</style>
</head>
<body>
<button class="language-switch" onclick="switchLang()">EN/FA</button>
<header id="header">ğŸŒ World News | Ø§Ø®Ø¨Ø§Ø± Ø²Ù†Ø¯Ù‡</header>

<input type="text" id="search" placeholder="Ø¬Ø³ØªØ¬ÙˆÛŒ Ø§Ø®Ø¨Ø§Ø±..." oninput="filterNews()">
<div class="news-container">
  <div class="slider" id="slider"></div>
  <div id="news"><p>Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø®Ø¨Ø±Ù‡Ø§...</p></div>
</div>

<div class="footer">
  <p>Â© 2025 World News | All rights reserved</p>
  <p>Follow us: 
    <a href="https://www.facebook.com/share/1CukxYCxba/" target="_blank">Facebook</a> | 
    <a href="https://www.twitter.com/" target="_blank">Twitter</a> | 
    <a href="https://www.instagram.com/azimi_sahib_003/" target="_blank">Instagram</a>
  </p>
</div>

<script>
let newsItems=[], slideIndex=0, slideInterval;
let lang='fa';

async function loadAllNews(){
  newsItems=[];
  document.getElementById("news").innerHTML = "Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø®Ø¨Ø±Ù‡Ø§...";
  const sources = {
    bbc:"http://feeds.bbci.co.uk/persian/rss.xml",
    cnn:"http://rss.cnn.com/rss/edition.rss",
    aljazeera:"https://www.aljazeera.com/xml/rss/all.xml",
    afghan:"https://www.pajhwok.com/en/rss"
  };

  for(const key in sources){
    try{
      const url = sources[key];
      const proxy="https://api.allorigins.win/get?url=" + encodeURIComponent(url);
      const res = await fetch(proxy);
      const data = await res.json();
      const parser = new DOMParser();
      const xml = parser.parseFromString(data.contents,"text/xml");
      const items = xml.querySelectorAll("item");
      items.forEach((item,index)=>{
        if(index>=5) return;
        const title = item.querySelector("title")?.textContent || "";
        const link = item.querySelector("link")?.textContent || "#";
        const desc = item.querySelector("description")?.textContent || "";
        const media = item.querySelector("media\\:content, enclosure");
        const image = media?.getAttribute("url") || "";
        newsItems.push({title,link,desc,image});
      });
    }catch(err){ console.log("Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ø®Ø¨Ø± Ø§Ø² "+key, err); }
  }
  renderNews();
  setupSlider();
}

function renderNews(){
  const newsDiv=document.getElementById("news");
  newsDiv.innerHTML="";
  newsItems.forEach(item=>{
    const newsItem=document.createElement("div");
    newsItem.className="news-item";
    newsItem.style.animationDelay = (newsItems.indexOf(item)*0.1)+"s";
    newsItem.innerHTML=`${item.image?`<img src="${item.image}" alt="news image"/>`:""}
      <h3>${item.title}</h3>
      <p>${item.desc}</p>
      <a href="${item.link}" target="_blank">${lang==='fa'?"Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ú©Ø§Ù…Ù„ Ø®Ø¨Ø±":"Read full news"}</a>
      <div class="share-buttons">
        <a href="https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(item.link)}" target="_blank">Facebook</a>
        <a href="https://twitter.com/intent/tweet?url=${encodeURIComponent(item.link)}" target="_blank">Twitter</a>
        <a href="https://www.instagram.com/?url=${encodeURIComponent(item.link)}" target="_blank">Instagram</a>
      </div>`;
    newsDiv.appendChild(newsItem);
  });
}

function filterNews(){
  const query=document.getElementById("search").value.toLowerCase();
  const newsDiv=document.getElementById("news");
  newsDiv.innerHTML="";
  newsItems.filter(item=> item.title.toLowerCase().includes(query) || item.desc.toLowerCase().includes(query))
           .forEach(item=>{
    const newsItem=document.createElement("div");
    newsItem.className="news-item";
    newsItem.innerHTML=`${item.image?`<img src="${item.image}" alt="news image"/>`:""}
      <h3>${item.title}</h3>
      <p>${item.desc}</p>
      <a href="${item.link}" target="_blank">${lang==='fa'?"Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ú©Ø§Ù…Ù„ Ø®Ø¨Ø±":"Read full news"}</a>
      <div class="share-buttons">
        <a href="https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(item.link)}" target="_blank">Facebook</a>
        <a href="https://twitter.com/intent/tweet?url=${encodeURIComponent(item.link)}" target="_blank">Twitter</a>
        <a href="https://www.instagram.com/?url=${encodeURIComponent(item.link)}" target="_blank">Instagram</a>
      </div>`;
    newsDiv.appendChild(newsItem);
  });
}

function setupSlider(){
  const slider=document.getElementById("slider");
  slider.innerHTML="";
  newsItems.slice(0,5).forEach((item,index)=>{
    const slide=document.createElement("div");
    slide.className="slide" + (index===0?" active":"");
    slide.innerHTML=`<img src="${item.image||''}" alt="slide image"><h2>${item.title}</h2>`;
    slider.appendChild(slide);
  });
  slideIndex=0;
  clearInterval(slideInterval);
  slideInterval = setInterval(()=>{
    const slides = document.querySelectorAll(".slide");
    slides.forEach(s=>s.classList.remove("active"));
    slideIndex = (slideIndex+1) % slides.length;
    slides[slideIndex].classList.add("active");
  },5000);
}

function switchLang(){
  lang = (lang==='fa') ? 'en' : 'fa';
  document.getElementById('header').innerText = (lang==='fa') ? 'ğŸŒ World News | Ø§Ø®Ø¨Ø§Ø± Ø²Ù†Ø¯Ù‡' : 'ğŸŒ World News | Live News';
  document.getElementById('search').placeholder = (lang==='fa') ? 'Ø¬Ø³ØªØ¬ÙˆÛŒ Ø§Ø®Ø¨Ø§Ø±...' : 'Search news...';
  renderNews();
}

loadAllNews();
</script>
</body>
</html>
